{
  "parameters": [
    {
      "name": "reads",
      "label": "Input files",
      "usage": "Path to input data (must be surrounded with quotes)",
      "type": "path",
      "choices": [],
      "nargs": "+",
      "default_value": null,
      "pattern": ".*\\*.*",
      "render": "textfield",
      "arity": 0,
      "group": "Mandatory arguments"
    },
    {
      "name": "samplePlan",
      "label": "Input files",
      "usage": "Path to sample plan (csv format) with raw reads (if `--reads` is not specified)",
      "type": "path",
      "choices": [],
      "nargs": "+",
      "default_value": null,
      "pattern": ".*\\*.*",
      "render": "textfield",
      "arity": 0,
      "group": "Mandatory arguments"
    },
    {
      "name": "genome",
      "label": "Reference genome",
      "usage": "Name of the reference genome.",
      "type": "string",
      "nargs": "1",
      "choices": [],
      "default_value": false,
      "pattern": "",
      "render": "textfield",
      "arity": 0,
      "group": "Mandatory arguments"
    },
    {
      "name": "protocol",
      "label": "Name for the protocol used",
      "usage": "Specify which protocol to run",
      "type": "string",
      "nargs": "1",
      "choices": ["scchip_indrop","sccuttag_indrop","sccuttag_10X","scepigenome_plate"],
      "default_value": false,
      "pattern": "*",
      "render": "textfield",
      "arity": 0,
      "group": "Mandatory arguments"
    },
    {
      "name": "multiqcConfig",
      "label": "MultiQC configuration file",
      "usage": "Specify a custom config file for MultiQC",
      "type": "path",
      "nargs": 1,
      "choices": [],
      "default_value": null,
      "pattern": ".*",
      "render": "file",
      "arity": 0,
      "group": "Other options"
    },
    {
      "name": "metadata",
      "label": "MultiQC metadata file",
      "usage": "Specify a custom metadata file for MultiQC",
      "type": "path",
      "nargs": 1,
      "choices": [],
      "default_value": null,
      "pattern": ".*",
      "render": "file",
      "arity": 0,
      "group": "Other options"
    },
    {
      "name": "name",
      "label": "Name for the pipeline run",
      "usage": "Name for the pipeline run. If not specified, Nextflow will automatically generate a random mnemonic",
      "type": "string",
      "nargs": 1,
      "choices": [],
      "default_value": null,
      "pattern": ".*",
      "render": "textfield",
      "arity": 0,
      "group": "Other options"
    },

    {
      "name": "sampleDescription",
      "label": "sample description file path",
      "usage": "Path to sample descrption file",
      "type": "path",
      "choices": [],
      "nargs": "0",
      "default_value": null,
      "pattern": ".*\\*.*",
      "render": "textfield",
      "arity": 0,
      "group": "Inputs"
    },

    {
      "name": "batchSize",
      "label": "batch size in cell numbers",
      "usage": "Minimum mapping quality for barcode detection",
      "type": "Number of cells to merge to work on batch",
      "nargs": "1",
      "choices": [],
      "default_value": 100,
      "pattern": ".*",
      "render": "textfield",
      "arity": 0,
      "group": "Ressources"
    },
  
    {
      "name": "genomeAnnotationPath",
      "label": "Annotation path",
      "usage": "Path to genome annotations folder",
      "type": "path",
      "choices": [],
      "nargs": "+",
      "default_value": null,
      "pattern": ".*\\*.*",
      "render": "textfield",
      "arity": 0,
      "group": "References"
    },
    {
      "name": "effGenomeSize",
      "label": "Effective Genome size value",
      "usage": "Effective genome size value = portion du génome qui est réellement accessible pour le séquençage ou l’alignement des reads",
      "type": "integer",
      "nargs": "0",
      "default_value": null,
      "pattern": "",
      "render": "textfield",
      "arity": 0,
      "group": "References"
    },
    {
      "name": "starIndex",
      "label": "STAR index path",
      "usage": "Path to indexes for STAR aligner",
      "type": "path",
      "choices": [],
      "nargs": "+",
      "default_value": null,
      "pattern": ".*\\*.*",
      "render": "textfield",
      "arity": 0,
      "group": "References"
    },
    {
      "name": "bwaIndex",
      "label": "Bwa-mem2 index path",
      "usage": "Path to indexes for Bwa-mem2 aligner",
      "type": "path",
      "choices": [],
      "nargs": "+",
      "default_value": null,
      "pattern": ".*\\*.*",
      "render": "textfield",
      "arity": 0,
      "group": "References"
    },
    {
      "name": "fasta",
      "label": "Genome fasta",
      "usage": "Path to genome fasta file",
      "type": "path",
      "choices": [],
      "nargs": "1",
      "default_value": null,
      "pattern": ".*\\*.*",
      "render": "textfield",
      "arity": 0,
      "group": "References"
    },
    {
      "name": "gtf",
      "label": "GTF path",
      "usage": "Path to GTF annotation file. Used in HOMER peak annotation",
      "type": "path",
      "choices": [],
      "nargs": "+",
      "default_value": null,
      "pattern": ".*\\*.*",
      "render": "textfield",
      "arity": 0,
      "group": "References"
    },
    {
      "name": "geneBed",
      "label": "Gene annotation file",
      "usage": "Path to gene file (BED)",
      "type": "path",
      "choices": [],
      "nargs": "+",
      "default_value": null,
      "pattern": ".*\\*.*",
      "render": "textfield",
      "arity": 0,
      "group": "References"
    },

    

    {
      "name": "aligner",
      "label": "Alignement tool",
      "usage": "Specify tools to use for mapping",
      "type": "string",
      "nargs": "+",
      "choices": ["star", "bwa-mem2"],
      "default_value": "star",
      "pattern": ".*",
      "render": "textfield",
      "arity": 0,
      "group": "Alignment"
    },
    {
      "name": "mapq",
      "label": "Min map qual for reads filtering",
      "usage": "Minimum mapping quality for reads filtering",
      "type": "integer",
      "nargs": 1,
      "choices": [],
      "default_value": 20,
      "pattern": ".*",
      "render": "textfield",
      "arity": 0,
      "group": "Filtering"
    },
    {
      "name": "rmSingleton",
      "label": "Remove singleton",
      "usage": "Remove singleton reads",
      "type": "boolean",
      "nargs": 0,
      "choices": [],
      "default_value": false,
      "pattern": "",
      "render": "check-box",
      "arity": 0,
      "group": "Filtering"
    },
    {
      "name": "rmSecondAlign",
      "label": "Remove secondary alignments",
      "usage": "Remove second alignment of a read",
      "type": "boolean",
      "nargs": 0,
      "choices": [],
      "default_value": true,
      "pattern": "",
      "render": "check-box",
      "arity": 0,
      "group": "Filtering"
    },
    {
      "name": "keepRTdup",
      "label": "Keep RT duplicates",
      "usage": "Keep RT duplicates (scChIP only)",
      "type": "boolean",
      "nargs": 0,
      "choices": [],
      "default_value": false,
      "pattern": "",
      "render": "check-box",
      "arity": 0,
      "group": "Filtering"
    },
    {
      "name": "rmPCRdups",
      "label": "Remove PCR duplicates",
      "usage": "Remove duplicated reads due to PCR",
      "type": "boolean",
      "nargs": 0,
      "choices": [],
      "default_value": true,
      "pattern": "",
      "render": "check-box",
      "arity": 0,
      "group": "Filtering"
    },
    {
      "name": "keepBlackList",
      "label": "Keepreads in blacklist regions",
      "usage": "Keepreads in blacklist regions",
      "type": "boolean",
      "nargs": 0,
      "choices": [],
      "default_value": false,
      "pattern": "",
      "render": "check-box",
      "arity": 0,
      "group": "Filtering"
    },
    {
      "name": "distDup",
      "label": "window distDup",
      "usage": "Genomic distance to consider a read as a window duplicate (for scChIP only)",
      "type": "integer",
      "nargs": "1",
      "default_value": 50,
      "pattern": "",
      "render": "textfield",
      "arity": 0,
      "group": "Filtering"
    },
    
    {
      "name": "mapqBarcode",
      "label": "Min map qual for barcode detection",
      "usage": "Minimum mapping quality for barcode detection",
      "type": "integer",
      "nargs": "1",
      "choices": [],
      "default_value": 40,
      "pattern": ".*",
      "render": "textfield",
      "arity": 0,
      "group": "Barcodes"
    },
    {
      "name": "barcodeTag",
      "label": "Barcode tag",
      "usage": "Tag to specify the barcode information",
      "type": "string",
      "nargs": 1,
      "default_value": "XB",
      "pattern": ".*",
      "render": "textfield",
      "arity": 0,
      "group": "Barcodes"
    },
    {
      "name": "darkCycleDesign",
      "label": "darkCycleDesign",
      "usage": "darkCycleDesign - change the start position of the barcode in scChiP",
      "type": "boolean",
      "choices": [true, false],
      "nargs": "1",
      "default_value": false,
      "pattern": ".*\\*.*",
      "render": "textfield",
      "arity": 0,
      "group": "Filtering"
    },
   
    
    {
      "name": "minReadsPerCellmatrix",
      "label": "minimum Reads Per Cell matrix",
      "usage": "Cells having less than this number are removed from final matrices",
      "type": "integer",
      "nargs": "1",
      "default_value": 100,
      "pattern": "",
      "render": "textfield",
      "arity": 0,
      "group": "Matrices"
    },
    {
      "name": "createBinMatrix",
      "label": "create binned matrix",
      "usage": "Create binned matrix",
      "type": "boolean",
      "nargs": 1,
      "choices": [true, false],
      "default_value": false,
      "pattern": "",
      "render": "check-box",
      "arity": 0,
      "group": "Matrices"
    },
    {
      "name": "binSize",
      "label": "Bin size",
      "usage": "Size of bins to create matrices",
      "type": "integer",
      "choices": ["50000"],
      "default_value": "50000",
      "nargs": "*",
      "pattern": "",
      "render": "textfield",
      "arity": 0,
      "group": "Matrices"
    },
    {
      "name": "tssSize",
      "label": "TSS size",
      "usage": "Size of TSS window",
      "type": "integer",
      "choices": [],
      "default_value": 5000,
      "nargs": "*",
      "pattern": "",
      "render": "textfield",
      "arity": 0,
      "group": "Matrices"
    },

    {
      "name": "peakCalling",
      "label": "peakCalling",
      "usage": "Run peakcalling analysis",
      "type": "boolean",
      "nargs": 1,
      "choices": [true, false],
      "default_value": false,
      "pattern": "",
      "render": "check-box",
      "arity": 0,
      "group": "peakCalling"
    },
    {
      "name": "macs2Opts",
      "label": "Macs2 options",
      "usage": "Macs2 options",
      "type": "string",
      "nargs": "1",
      "default_value": "--nomodel --extsize 200 --keep-dup all -f BAM -p 0.001",
      "pattern": "",
      "render": "textfield",
      "arity": 0,
      "group": "peakCalling"
    },
    {
      "name": "peakDist",
      "label": "Merger les peaks dans des intervalles a +/- $peakDist bp",
      "usage": "Merger les peaks a +/- $peakDist bp",
      "type": "string",
      "nargs": "1",
      "default_value": 1000,
      "pattern": "",
      "render": "textfield",
      "arity": 0,
      "group": "peakCalling"
    },

    {
      "name": "skipBigWig",
      "label": "Skip bigwig",
      "usage": "Disable bigwig",
      "type": "boolean",
      "nargs": 0,
      "choices": [true, false],
      "default_value": false,
      "pattern": "",
      "render": "check-box",
      "arity": 0,
      "group": "Skip options"
    },
    {
      "name": "skipMultiqc",
      "label": "Skip MultiQC",
      "usage": "Disable MultiQC",
      "type": "boolean",
      "nargs": 0,
      "choices": [true, false],
      "default_value": false,
      "pattern": "",
      "render": "check-box",
      "arity": 0,
      "group": "Skip options"
    },
    {
      "name": "skipSoftVersions",
      "label": "Skip Soft Versions",
      "usage": "Disable Soft Versions",
      "type": "boolean",
      "nargs": 0,
      "choices": [true, false],
      "default_value": false,
      "pattern": "",
      "render": "check-box",
      "arity": 0,
      "group": "Skip options"
    },

    {
      "name": "outDir",
      "label": "Output directory",
      "usage": "The output directory where the results will be saved",
      "type": "path",
      "nargs": 1,
      "choices": [],
      "default_value": null,
      "pattern": ".*",
      "render": "file",
      "arity": 0,
      "group": "Outputs"
    },
    {
      "name": "summaryDir",
      "label": "summary directory",
      "usage": "The output directory where the summary will be saved",
      "type": "path",
      "nargs": 1,
      "choices": [],
      "default_value": null,
      "pattern": ".*",
      "render": "file",
      "arity": 0,
      "group": "Outputs"
    },
    {
      "name": "tmpDir",
      "label": "temporary directory",
      "usage": "The output directory where the temporary will be saved",
      "type": "path",
      "nargs": 1,
      "choices": [],
      "default_value": null,
      "pattern": ".*",
      "render": "file",
      "arity": 0,
      "group": "Outputs"
    },
    {
      "name": "saveIntermediates",
      "label": "Save intermediates files",
      "usage": "Save intermediates files",
      "type": "boolean",
      "nargs": 0,
      "choices": [true, false],
      "default_value": false,
      "pattern": "",
      "render": "check-box",
      "arity": 0,
      "group": "Outputs"
    },
    {
      "name": "cleanup",
      "label": "Cleaning strategy",
      "usage": "Cleaning strategy of the work/ directory",
      "type": "string",
      "nargs": 1,
      "choices": ["none", "auto", "success"],
      "default_value": "success",
      "pattern": ".*",
      "render": "textfield",
      "group": "Outputs"
    }
  ]
}
